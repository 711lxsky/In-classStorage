DATA SEGMENT
Sno DB '16030199025 ZhangJunhua',0AH,0DH,'$'
string1 DB 0AH,0DH,'INPUT Q/q to exit',0AH,0DH,0AH,0DH,'$'
string2 DB 0AH,0DH,'INPUT:$'
RESULT DB 0AH,0DH,'ASCII :$'
SD DB ''
DATA ENDS

STACK SEGMENT
DB 100 DUP(?)
STACK ENDS

CODE SEGMENT
ASSUME CS:CODE,DS:DATA,SS:STACK

START:
	MOV AX,STACK
	MOV SS,AX
	MOV AX,DATA
	MOV DS,AX
	MOV DX,OFFSET string1
	MOV AH,09H
	INT 21H
	MOV DX,OFFSET Sno
	INT 21H
	MOV BX,0
	
l1:
	MOV DL,[BX]
	CMP DL,'$'
	JZ MAIN
	MOV AH,02H
	INT 21H
	MOV AL,DL
	call show
	MOV DL,' '
	MOV AH,02H
	INT 21H
	INC BX
	JMP l1
	
MAIN:
	MOV DX,OFFSET string2
	MOV AH,09H
	INT 21H
	MOV AH,01H
	INT 21H
	CMP AL,'Q'
	JZ EXIT
	CMP AL,'q'
	JZ EXIT
	MOV SD,AL
	MOV DX,OFFSET RESULT
	MOV AH,09H
	INT 21H
	MOV SI,OFFSET SD
	MOV AL,DS:[SI]
	call show
	LOOP MAIN
EXIT:
	MOV AX,4C00H
	INT 21H
	
show proc
	PUSH AX
	PUSH CX
	PUSH DX
	AND AL,0F0H
	MOV CL,4
	SHR AL,CL
	CMP AL,0AH
	JB C2
	ADD AL,07H
C2:
	ADD AL,30H
	MOV DL,AL
	MOV AH,02H
	INT 21H
	MOV AL,DS:[SI]
	AND AL,0FH
	CMP AL,0AH
	JB C3
	ADD AL,07H
C3:
	ADD AL,30H
	MOV DL,AL
	MOV AH,02H
	INT 21H
	POP DX
	POP CX
	POP AX
	ret
show endp

	CODE ENDS
	END START 